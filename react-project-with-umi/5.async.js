(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[5],{"3moH":function(e,t,a){"use strict";a.r(t);a("B9cy");var n=a("Ol7k"),r=a("cDcd"),o=a.n(r),s=(a("Pwec"),a("CtXQ")),c=(a("lUTK"),a("BvKs")),p=a("wY1l"),l=a.n(p),i="\u540e\u53f0\u7ba1\u7406\u7cfb\u7edf",m=c["a"].Item,u=c["a"].SubMenu,h=n["a"].Sider;class d extends o.a.Component{constructor(e){super(e)}shouldComponentUpdate(e){return!1}render(){return o.a.createElement(h,{width:256,style:{minHeight:"100vh"}},o.a.createElement("div",{style:{height:"32px",color:"#fff",textAlign:"center",margin:"16px"}},i),o.a.createElement(c["a"],{theme:"dark",mode:"inline",defaultSelectedKeys:[this.props.defaultSelectedKeys]},f(this.props.routes).map(e=>this.resolveMenu(e))))}resolveMenu(e){return Array.isArray(e.routes)?o.a.createElement(u,{key:e.path,title:o.a.createElement("span",null,o.a.createElement(s["a"],{type:"dashboard"}),o.a.createElement("span",null,e.meta&&e.meta.title))},f(e.routes).map(e=>this.resolveMenu(e))):o.a.createElement(m,{key:e.path},o.a.createElement(l.a,{to:e.path},o.a.createElement(s["a"],{type:"pie-chart"}),o.a.createElement("span",null,e.meta&&e.meta.title)))}}function f(e){return e.filter(e=>e.path&&(!e.meta||!e.meta.hidden))}var g=d,E=n["a"].Header;class y extends o.a.Component{shouldComponentUpdate(){return!1}render(){return o.a.createElement(E,{style:{background:"#fff",textAlign:"center",padding:0}},"Header")}}var v=y,A=n["a"].Footer;class x extends o.a.Component{shouldComponentUpdate(){return!1}render(){return o.a.createElement(A,{style:{textAlign:"center"}},"Footer")}}var b,w,C=x,k=(a("T2oS"),a("W9HT")),I=a("h74D"),H=[{path:"/login",component:"login/Login"},{path:"/",component:"App",routes:[{path:"/",component:"Index",meta:{title:"\u9996\u9875",access:"dashboard"}},{path:"/coupon",meta:{title:"\u4f18\u60e0\u5238\u7ba1\u7406"},routes:[{path:"list",component:"coupon/List",meta:{title:"\u4f18\u60e0\u5238\u5217\u8868",access:"business-group-mgr"},routes:[{path:"test",component:"coupon/List",meta:{title:"\u4f18\u60e0\u5238\u6d4b\u8bd5",access:"partner"}}]},{path:"add",component:"coupon/Add",meta:{title:"\u6dfb\u52a0\u4f18\u60e0\u5238",access:"programme-management"}}]},{path:"/coupon1",meta:{title:"coupon1"},routes:[{path:"list",component:"coupon/List",meta:{title:"\u4f18\u60e0\u5238\u5217\u8868",access:"wechat-group-info",hidden:!0}},{path:"add",component:"coupon/Add",meta:{title:"\u6dfb\u52a0\u4f18\u60e0\u5238",access:"wechat-group-info"}}]},{path:"/coupon2",meta:{title:"coupon2"},routes:[{path:"list",component:"coupon/List",meta:{title:"\u4f18\u60e0\u5238\u5217\u8868",access:"distribution-haha"}},{path:"add",component:"coupon/Add",meta:{title:"\u6dfb\u52a0\u4f18\u60e0\u5238",hidden:!0,access:"grouper-mgr"}}]}]}],S=a("7Qib"),U=a("ArA+"),K="auth",L=e=>({userInfo:e[K].userInfo}),M=(b=Object(I["connect"])(L),b(w=class extends o.a.Component{constructor(e){super(e),this.validateIdetify()}validateIdetify(){var e=Object(S["a"])(),t=e.Uid,a=e.Token;if(!t||!a)return U["router"].replace("/login");this.props.dispatch({type:"".concat(K,"/getUserInfo"),payload:a})}render(){console.log("props: ",this),console.log("access: ",this.props.userInfo.access),console.log("pathname: ",this.props.pathname);var e=this.props.userInfo.access;if(!Array.isArray(e)||!e.length)return o.a.createElement(k["a"],{size:"large"});var t=T(H).find(e=>e.path===this.props.pathname);return t?!t.meta||e.includes(t.meta.access)?o.a.createElement(o.a.Fragment,null,this.props.children):o.a.createElement("div",null,"\u6ca1\u6709\u6743\u9650"):o.a.createElement("div",null,"404")}})||w);function T(e){var t=[];return F(e,"",t),t}function F(e,t,a){e.forEach(e=>{"/"===t.charAt(t.length-1)&&(t=t.slice(0,-1)),"/"===e.path.charAt(0)&&(e.path=e.path.slice(1));var n=t+"/"+e.path;Array.isArray(e.routes)?F(e.routes,n,a):a.push({path:n,meta:e.meta})})}var J=M,O=n["a"].Content;class j extends o.a.Component{render(){return o.a.createElement(O,{style:{margin:"24px 16px 0"}},o.a.createElement("div",{style:{padding:24,background:"#fff",minHeight:360}},o.a.createElement(J,{pathname:this.props.pathname},this.props.children)))}}var B=j;class D extends o.a.Component{render(){return o.a.createElement(n["a"],null,o.a.createElement(g,{routes:this.props.route.routes,defaultSelectedKeys:this.props.location.pathname}),o.a.createElement(n["a"],null,o.a.createElement(v,null),o.a.createElement(B,{pathname:this.props.location.pathname,children:this.props.children}),o.a.createElement(C,null)))}}t["default"]=D},o2JA:function(e,t,a){"use strict"}}]);